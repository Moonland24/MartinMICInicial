<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/JSP_Servlet/Html.html to edit this template
-->
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario con Validación</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1 class="titulo">Mismo formulario validado</h1>

        <form action="procesaformintermedio" method="post" id="miFormulario" class="columna">
            <label for="nombre">Nombre:</label><br>
            <input type="text" name="nombre" id="nombre"><br><br>

            <label for="fecha">Fecha de nacimiento:</label><br>
            <input type="date" name="fecha_nacimiento" id="fecha"><br><br>

            <label for="salario">Salario:</label><br>
            <input type="number" name="salario" id="salario" step="0.01"><br><br>

            <label for="hijos">Número de hijos:</label><br>
            <input type="number" name="hijos" id="hijos"><br><br>

            <label>Preferencias (elige ninguna, una o varias):</label><br>
            <input type="checkbox" id="pref_cine" name="preferencias" value="cine">
            <label for="pref_cine">Cine</label><br>

            <input type="checkbox" id="pref_baile" name="preferencias" value="baile">
            <label for="pref_baile">Baile</label><br>

            <input type="checkbox" id="pref_musica" name="preferencias" value="musica">
            <label for="pref_musica">Música</label><br>

            <input type="checkbox" id="pref_deporte" name="preferencias" value="deporte">
            <label for="pref_deporte">Deporte</label><br>

            <input type="checkbox" id="pref_viajes" name="preferencias" value="viajes">
            <label for="pref_viajes">Viajes</label><br><br>

            <input type="submit" value="Enviar">
        </form>

        <div style="text-align:center; margin-top:30px;">
            <a href="index.html" class="volver">Volver al índice</a>
        </div>
    </div>
    <script>
    (function () {
        if (!location.search) return;
        var params = new URLSearchParams(location.search);

        ['nombre', 'fecha_nacimiento', 'salario', 'hijos'].forEach(function (name) {
            if (params.has(name)) {
                var el = document.querySelector('[name="' + name + '"]');
                if (el) el.value = params.get(name);
            }
        });

        var prefs = params.getAll('preferencias');
        if (prefs && prefs.length) {
            var boxes = document.querySelectorAll('input[name="preferencias"]');
            boxes.forEach(function (box) {
                if (prefs.indexOf(box.value) !== -1) box.checked = true;
            });
        }
    })();
    </script>
</body>
</html>
